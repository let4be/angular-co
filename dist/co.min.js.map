{"version":3,"sources":["co.js"],"names":["angular","module","provider","self","this","coJS","$get","$q","$rootScope","$exceptionHandler","createGeneratorProxy","gen","regeneratorRuntime","mark","callee$3$0","wrap","context$4$0","prev","next","abrupt","sent","t0","$apply","finish","stop","co","deferred","defer","then","resolve","apply","arguments","err","reject","promise","def","isFunction","transform","each","object","mapGen","i","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","k","isArray","length","isObject","undefined","Object","keys","Symbol","iterator","done","value","map","init","r","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","reduce","reduceGen","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3"],"mappings":"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","file":"co.min.js","sourcesContent":["angular\r\n\t.module('angular-co', [])\r\n\t.provider('co', function() {\r\n\t\tlet self = this;\r\n\r\n\t\tself.coJS = null;\r\n\r\n\t\tself.$get = function($q, $rootScope, $exceptionHandler) {\r\n\t\t\tlet createGeneratorProxy = (gen) => function *() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn yield gen;\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\t$exceptionHandler(err);\r\n\r\n\t\t\t\t\tthrow err;\r\n\t\t\t\t} finally {\r\n\t\t\t\t\t$rootScope.$apply();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet co = function (gen) {\r\n\t\t\t\tlet deferred = $q.defer();\r\n\r\n\t\t\t\tself.coJS(createGeneratorProxy(gen))\r\n\t\t\t\t\t.then(function () {\r\n\t\t\t\t\t\tdeferred.resolve.apply(deferred.resolve, arguments);\r\n\t\t\t\t\t\t$rootScope.$apply();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (err){\r\n\t\t\t\t\t\tdeferred.reject(err);\r\n\t\t\t\t\t\t$rootScope.$apply();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\treturn deferred.promise;\r\n\t\t\t};\r\n\r\n\t\t\tco.def = (gen, def) => co(function *() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn yield gen;\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\treturn angular.isFunction(def) ? def(err) : def;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tco.transform = (gen, transform) => co(function *(){\r\n\t\t\t\treturn transform(yield gen);\r\n\t\t\t});\r\n\r\n\t\t\tco.each = (object, mapGen) => co(function *() {\r\n\t\t\t\tif (angular.isArray(object)) {\r\n\t\t\t\t\tfor (let i = 0; i < object.length; i++) {\r\n\t\t\t\t\t\tyield mapGen(object[i], i, object);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (angular.isObject(object)) {\r\n\t\t\t\t\tfor (let k of Object.keys(object)) {\r\n\t\t\t\t\t\tyield mapGen(object[k], k, object);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tco.map = (object, mapGen, init) => {\r\n\t\t\t\tif (!object)\r\n\t\t\t\t\treturn init;\r\n\r\n\t\t\t\treturn co(function *() {\r\n\t\t\t\t\tlet r;\r\n\t\t\t\t\tif (angular.isArray(object)) {\r\n\t\t\t\t\t\tr = [];\r\n\t\t\t\t\t\tfor (let i = 0; i < object.length; i++) {\r\n\t\t\t\t\t\t\tr[i] = yield mapGen(object[i], i, object);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (angular.isObject(object)) {\r\n\t\t\t\t\t\tr = {};\r\n\t\t\t\t\t\tfor (let k of Object.keys(object)) {\r\n\t\t\t\t\t\t\tr[k] = yield mapGen(object[k], k, object);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tco.reduce = (object, reduceGen, init) => {\r\n\t\t\t\tif (!object)\r\n\t\t\t\t\treturn init;\r\n\r\n\t\t\t\treturn co(function *() {\r\n\t\t\t\t\tif (angular.isArray(object)) {\r\n\t\t\t\t\t\tfor (let i = 0; i < object.length; i++) {\r\n\t\t\t\t\t\t\tinit = yield reduceGen(init, object[i], i, object);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (angular.isObject(object)) {\r\n\t\t\t\t\t\tfor (let k of Object.keys(object)) {\r\n\t\t\t\t\t\t\tinit = yield reduceGen(init, object[k], k, object);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn init;\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\treturn co;\r\n\t\t};\r\n\r\n\t\treturn self;\r\n\t});"],"sourceRoot":"/source/"}